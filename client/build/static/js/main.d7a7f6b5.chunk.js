(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,c){},279:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c.n(n),r=c(33),o=c.n(r),i=c(6),l=c(11),j=c(3),d=(c(127),c(9)),u=c(22),b=c.n(u),p=c(49),O=c(5),m=c.n(O),h=c(12),x=c(13),v=c.n(x),g="CREATE_ERRORS",f="REMOVE_ERRORS",y="SET_LOADER",N="CLOSE_LOADER",_="REDIRECT_TRUE",E="REDIRECT_FALSE",w="SET_MESSAGE",R="REMOVE_MESSAGE",S="SET_POSTS",P="SET_POST",k="POST_REQUEST",A="POST_RESET",T="SET_UPDATE_ERRORS",C="RESET_UPDATE_ERRORS",F="UPDATE_IMAGE_ERROR",D="RESET_UPDATE_IMAGE_ERRORS",I="SET_DETAILS",U="COMMENTS",L=function(e,t){return function(){var c=Object(h.a)(m.a.mark((function c(a,n){var s,r,o,i,l,j,d,u;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s=n(),r=s.AuthReducer.token,a({type:y}),c.prev=2,o={headers:{Authorization:"Bearer ".concat(r)}},c.next=6,v.a.get("/posts/".concat(e,"/").concat(t),o);case 6:i=c.sent,l=i.data,j=l.response,d=l.count,u=l.perPage,a({type:N}),a({type:S,payload:{response:j,count:d,perPage:u}}),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(2),a({type:N});case 18:case"end":return c.stop()}}),c,null,[[2,15]])})));return function(e,t){return c.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(h.a)(m.a.mark((function t(c){var a,n,s,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:y}),t.prev=1,t.next=4,v.a.get("/details/".concat(e));case 4:a=t.sent,n=a.data,s=n.post,r=n.comments,c({type:N}),c({type:I,payload:s}),c({type:U,payload:r}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),c({type:N}),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},z=function(){return Object(a.jsx)("div",{className:"loader__container",children:Object(a.jsx)("div",{className:"loader__container__item"})})},B=c(25),G=function(e){var t=e.path,c=e.count,n=e.page,s=e.perPage,r=Math.ceil(c/s),o=n;r-n<=3&&(o=r-3);var l=o+3;o<=0&&(o=1);return r&&c>3?Object(a.jsxs)("div",{className:"pagination",children:[function(){if(n>1)return Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:"/".concat(t,"/").concat(parseInt(n-1)),children:Object(a.jsx)(B.b,{})})})}(),function(){for(var e=[],c=o;c<=l;c++)e.push(Object(a.jsx)("li",{className:c==n?"active":"",children:Object(a.jsx)(i.b,{to:"/".concat(t,"/").concat(c),children:c})},c));return e}(),function(){if(n<r)return Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:"/".concat(t,"/").concat(parseInt(n)+1),children:Object(a.jsx)(B.c,{})})})}()]}):""},Y=function(){var e=Object(l.h)().page;void 0===e&&(e=1);var t=Object(j.c)((function(e){return e.PostReducer})).loading,c=Object(j.c)((function(e){return e.FetchPosts})),s=c.posts,r=c.count,o=c.perPage,u=Object(j.b)();return Object(n.useEffect)((function(){u(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(c){var a,n,s,r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:y}),t.prev=1,t.next=4,v.a.get("/home/".concat(e));case 4:a=t.sent,n=a.data,s=n.response,r=n.count,o=n.perPage,c({type:N}),c({type:S,payload:{response:s,count:r,perPage:o}}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),c({type:N}),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[e]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d.a,{children:[Object(a.jsx)("title",{children:"Web articles"}),Object(a.jsx)("meta",{name:"description",content:"Learn HTML, CSS, JavaScript, React, Vue, Flutter etc"})]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row mt-100",style:{marginBottom:"30px"},children:Object(a.jsx)("div",{className:"col-9 home",children:t?Object(a.jsx)(z,{}):s.length>0?s.map((function(e){return Object(a.jsxs)("div",{className:"row post-style",children:[Object(a.jsx)("div",{className:"col-8",children:Object(a.jsxs)("div",{className:"post",children:[Object(a.jsxs)("div",{className:"post__header",children:[Object(a.jsx)("div",{className:"post__header__avator",children:e.userName[0]}),Object(a.jsxs)("div",{className:"post__header__user",children:[Object(a.jsx)("span",{children:e.userName}),Object(a.jsx)("span",{children:b()(e.updatedAt).format("MMM Do YY")})]})]}),Object(a.jsxs)("div",{className:"post__body",children:[Object(a.jsx)("h1",{className:"post__body__title",children:Object(a.jsx)(i.b,{to:"/details/".concat(e.slug),children:e.title})}),Object(a.jsx)("div",{className:"post__body__details",children:Object(p.htmlToText)(e.body.slice(0,300))})]})]})}),Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("div",{className:"post__image",children:Object(a.jsx)("img",{src:"/images/".concat(e.image),alt:e.image})})})]},e._id)})):"No posts"})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-9",children:Object(a.jsx)(G,{path:"home",page:e,perPage:o,count:r})})})]})]})},V=c(18),J=c(2),W=c(10),K=function(){return Object(a.jsx)("div",{className:"bgImage"})},H=c(8),Q="SET_LOADER",q="CLOSE_LOADER",X="SET_TOKEN",Z="REGISTER_ERRORS",$="LOGOUT",ee="LOGIN_ERRORS",te=function(e){return function(){var t=Object(h.a)(m.a.mark((function t(c){var a,n,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},c({type:Q}),t.prev=2,t.next=5,v.a.post("/register",e,a);case 5:n=t.sent,s=n.data,c({type:q}),localStorage.setItem("myToken",s.token),c({type:X,payload:s.token}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),c({type:q}),c({type:Z,payload:t.t0.response.data.errors});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){var t=Object(n.useState)({name:"",email:"",password:""}),c=Object(W.a)(t,2),s=c[0],r=c[1],o=Object(j.c)((function(e){return e.AuthReducer})),i=o.loading,l=o.registerErrors,u=o.user,b=Object(j.b)(),p=function(e){r(Object(J.a)(Object(J.a)({},s),{},Object(V.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b(te(s));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l.length>0&&l.map((function(e){return H.b.error(e.msg)}))}),[l,u]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d.a,{children:[Object(a.jsx)("title",{children:"User Register"}),Object(a.jsx)("meta",{name:"description",content:"User register form"})]}),Object(a.jsxs)("div",{className:"row mt-80",children:[Object(a.jsxs)("div",{className:"col-8",children:[Object(a.jsx)(K,{}),Object(a.jsx)(H.a,{position:"top-right",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}})]}),Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("div",{className:"account",children:Object(a.jsx)("div",{className:"account__section",children:Object(a.jsxs)("form",{onSubmit:O,children:[Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("h3",{className:"form-heading",children:"Register"})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"text",name:"name",className:"group__control",placeholder:"Enter Name",value:s.name,onChange:p})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"email",name:"email",className:"group__control",placeholder:"Enter Email",value:s.email,onChange:p})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"password",name:"password",className:"group__control",placeholder:"Create Password",value:s.password,onChange:p})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",className:"btn btn-default btn-block",value:i?"...":"Register"})})]})})})})]})]})},ae=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.AuthReducer})),c=t.loginErrors,s=t.loading,r=Object(n.useState)({email:"",password:""}),o=Object(W.a)(r,2),i=o[0],l=o[1],u=function(e){l(Object(J.a)(Object(J.a)({},i),{},Object(V.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){c.length>0&&c.map((function(e){return H.b.error(e.msg)}))}),[c]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d.a,{children:[Object(a.jsx)("title",{children:"User Login"}),Object(a.jsx)("meta",{name:"description",content:"User login form"})]}),Object(a.jsxs)("div",{className:"row mt-80",children:[Object(a.jsxs)("div",{className:"col-8",children:[Object(a.jsx)(K,{}),Object(a.jsx)(H.a,{position:"top-right",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}})]}),Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("div",{className:"account",children:Object(a.jsx)("div",{className:"account__section",children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(c){var a,n,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},t.prev=1,c({type:Q}),t.next=5,v.a.post("/login",e,a);case 5:n=t.sent,s=n.data,c({type:q}),localStorage.setItem("myToken",s.token),c({type:X,payload:s.token}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),c({type:q}),c({type:ee,payload:t.t0.response.data.errors});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}(i))},children:[Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("h3",{className:"form-heading",children:"Login"})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"email",name:"email",value:i.email,onChange:u,className:"group__control",placeholder:"Enter Email"})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"password",name:"password",value:i.password,onChange:u,className:"group__control",placeholder:"Create Password"})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",className:"btn btn-default btn-block",value:s?"...":"Login"})})]})})})})]})]})},ne=function(){var e=Object(j.c)((function(e){return e.AuthReducer})).user,t=Object(j.b)(),c=e?Object(a.jsxs)("div",{className:"navbar__right",children:[Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:"/create",children:"Create Post"})}),Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:"/dashboard/1",children:e.name})}),Object(a.jsx)("li",{children:Object(a.jsx)("span",{onClick:function(){localStorage.removeItem("myToken"),t({type:$})},children:"Logout"})})]}):Object(a.jsxs)("div",{className:"navbar__right",children:[Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:"/login",children:"Login"})}),Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:"/register",children:"Register"})})]});return Object(a.jsx)("nav",{className:"navbar",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"navbar__row",children:[Object(a.jsx)("div",{className:"navbar__left",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsx)("img",{src:"/images/logo.png",alt:""})})}),c]})})})},se=function(){return Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsx)("div",{className:"sidebar__element",children:Object(a.jsx)("h3",{children:"Setting"})}),Object(a.jsx)("div",{className:"sidebar__element",children:Object(a.jsx)(i.b,{to:"/updatePassword",children:"Change Password"})}),Object(a.jsx)("div",{className:"sidebar__element",children:Object(a.jsx)(i.b,{to:"/updateName",children:"Change Name"})})]})},re=function(){var e=Object(j.c)((function(e){return e.PostReducer})),t=e.redirect,c=e.message,s=e.loading,r=Object(j.c)((function(e){return e.AuthReducer})),o=r.user._id,u=r.token,p=Object(j.c)((function(e){return e.FetchPosts})),O=p.posts,x=p.count,g=p.perPage,f=Object(l.h)().page;void 0===f&&(f=1);var _=Object(j.b)(),S=function(){var e=Object(h.a)(m.a.mark((function e(t){var c,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you really want to delete this post?")){e.next=17;break}return _({type:y}),e.prev=3,c={headers:{Authorization:"Bearer ".concat(u)}},e.next=7,v.a.get("/delete/".concat(t),c);case 7:a=e.sent,n=a.data.msg,_(L(o,f)),_({type:w,payload:n}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),_({type:N}),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&_({type:E}),c&&(H.b.success(c),_({type:R}))}),[c]),Object(n.useEffect)((function(){_(L(o,f))}),[f]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(d.a,{children:[Object(a.jsx)("title",{children:"User Dashboard"}),Object(a.jsx)("meta",{name:"description",content:"User Dashboard"})]}),Object(a.jsx)(H.a,{position:"top-center",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}}),Object(a.jsx)("div",{className:"container mt-100",children:Object(a.jsxs)("div",{className:"row ml-minus-15 mr-minus-15",children:[Object(a.jsx)("div",{className:"col-3 p-15",children:Object(a.jsx)(se,{})}),Object(a.jsxs)("div",{className:"col-9 p-15",children:[s?Object(a.jsx)(z,{}):O.length>0?O.map((function(e){return Object(a.jsxs)("div",{className:"dashboard__posts",children:[Object(a.jsxs)("div",{className:"dashboard__posts__title",children:[Object(a.jsx)(i.b,{to:"/details/".concat(e.slug),children:e.title}),Object(a.jsxs)("span",{children:["Published ",b()(e.updatedAt).fromNow()]})]}),Object(a.jsxs)("div",{className:"dashboard__posts__links",children:[Object(a.jsx)(i.b,{to:"/updateImage/".concat(e._id),children:Object(a.jsx)(B.d,{className:"icon"})}),Object(a.jsx)(i.b,{to:"/edit/".concat(e._id),children:Object(a.jsx)(B.e,{className:"icon"})}),Object(a.jsx)(B.a,{onClick:function(){return S(e._id)},className:"icon"})]})]},e._id)})):"You dont have any post",Object(a.jsx)(G,{path:"dashboard",page:f,perPage:g,count:x})]})]})})]})},oe=function(e){return Object(j.c)((function(e){return e.AuthReducer})).user?Object(a.jsx)(l.b,{path:e.path,exact:e.exact,component:e.component}):Object(a.jsx)(l.a,{to:"/login"})},ie=function(e){return Object(j.c)((function(e){return e.AuthReducer})).user?Object(a.jsx)(l.a,{to:"/dashboard"}):Object(a.jsx)(l.b,{path:e.path,exact:e.exact,component:e.component})},le=function(){return Object(a.jsxs)("div",{className:"notFound",children:[Object(a.jsxs)(d.a,{children:[Object(a.jsx)("title",{children:"404 - Not Found"}),Object(a.jsx)("meta",{name:"description",content:"Oops! That page could not found"})]}),Object(a.jsxs)("div",{className:"notFound__container",children:[Object(a.jsx)("h1",{className:"notFound__container__h1",children:"404"}),Object(a.jsx)("p",{className:"notFound__container__p",children:"Oops! That page could not found"})]})]})},je=c(50),de=c.n(je),ue=(c(111),function(e){var t=Object(j.c)((function(e){return e.PostReducer})),c=t.createErrors,s=t.redirect,r=Object(n.useState)("Choose image"),o=Object(W.a)(r,2),i=o[0],l=o[1],u=Object(n.useState)(""),b=Object(W.a)(u,2),p=b[0],O=b[1],x=Object(j.b)(),E=Object(j.c)((function(e){return e.AuthReducer})).user,R=E._id,S=E.name,P=Object(n.useState)({title:"",description:"",image:""}),k=Object(W.a)(P,2),A=k[0],T=k[1],C=Object(n.useState)(""),F=Object(W.a)(C,2),D=F[0],I=F[1],U=Object(n.useState)(!1),L=Object(W.a)(U,2),M=L[0],z=L[1],B=Object(n.useState)(""),G=Object(W.a)(B,2),Y=G[0],K=G[1];return Object(n.useEffect)((function(){s&&e.history.push("/dashboard"),0!==c.length&&c.map((function(e){return H.b.error(e.msg)}))}),[c,s]),Object(a.jsxs)("div",{className:"create mt-100",children:[Object(a.jsxs)(d.b,{children:[Object(a.jsx)("title",{children:"Create new post"}),Object(a.jsx)("meta",{name:"description",content:"Create a new post"})]}),Object(a.jsx)(H.a,{position:"top-right",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault();var t,c=A.title,a=A.description,n=A.image,s=new FormData;s.append("title",c),s.append("body",Y),s.append("image",n),s.append("description",a),s.append("slug",D),s.append("name",S),s.append("id",R),x((t=s,function(){var e=Object(h.a)(m.a.mark((function e(c,a){var n,s,r,o,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),s=n.AuthReducer.token,c({type:y}),e.prev=2,r={headers:{Authorization:"Bearer ".concat(s)}},e.next=6,v.a.post("/create_post",t,r);case 6:o=e.sent,i=o.data.msg,c({type:N}),c({type:f}),c({type:_}),c({type:w,payload:i}),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0.response),l=e.t0.response.data.errors,c({type:N}),c({type:g,payload:l});case 20:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:Object(a.jsxs)("div",{className:"row ml-minus-15 mr-minus-15",children:[Object(a.jsx)("div",{className:"col-6 p-15",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{className:"card__h3",children:"Create a new post"}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Post Title"}),Object(a.jsx)("input",{type:"text",name:"title",id:"title",value:A.title,onChange:function(e){T(Object(J.a)(Object(J.a)({},A),{},Object(V.a)({},e.target.name,e.target.value)));var t=e.target.value.trim().split(" ").join("-");I(t)},className:"group__control",placeholder:"Post title..."})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"image",className:"image__label",children:i}),Object(a.jsx)("input",{type:"file",name:"image",id:"image",onChange:function(e){if(0!==e.target.files.length){l(e.target.files[0].name),T(Object(J.a)(Object(J.a)({},A),{},Object(V.a)({},e.target.name,e.target.files[0])));var t=new FileReader;t.onloadend=function(){O(t.result)},t.readAsDataURL(e.target.files[0])}}})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"body",children:"Post body"}),Object(a.jsx)(de.a,{theme:"snow",id:"body",placeholder:"Post body...",value:Y,onChange:K})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Meta Description"}),Object(a.jsx)("textarea",{name:"description",id:"description",cols:"30",rows:"10",defaultValue:A.description,onChange:function(e){T(Object(J.a)(Object(J.a)({},A),{},Object(V.a)({},e.target.name,e.target.value)))},className:"group__control",placeholder:"meta description...",maxLength:"150"}),Object(a.jsx)("p",{className:"length",children:A.description?A.description.length:0})]})]})}),Object(a.jsx)("div",{className:"col-6 p-15",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"slug",children:"Post URL"}),Object(a.jsx)("input",{type:"text",name:"slug",id:"slug",value:D,onChange:function(e){z(!0),I(e.target.value)},className:"group__control",placeholder:"Post URL..."})]}),Object(a.jsx)("div",{className:"group",children:M?Object(a.jsx)("button",{class:"btn btn-default",onClick:function(e){e.preventDefault(),I(D.trim().split(" ").join("-"))},children:"Update Slug"}):""}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("div",{className:"imagePreivew",children:p?Object(a.jsx)("img",{src:p}):""})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",value:"Create post",className:"btn btn-default btn-block"})})]})})]})})})]})}),be=function(){var e=Object(l.g)().push,t=Object(l.h)().id,c=Object(n.useState)(""),s=Object(W.a)(c,2),r=s[0],o=s[1],i=Object(n.useState)({title:"",description:""}),u=Object(W.a)(i,2),b=u[0],p=u[1],O=Object(j.b)(),x=Object(j.c)((function(e){return e.PostReducer})),g=x.loading,f=x.redirect,E=Object(j.c)((function(e){return e.FetchPost})),R=E.post,S=E.postStatus,F=Object(j.c)((function(e){return e.UpdatePost})).editErrors;Object(n.useEffect)((function(){S?(p({title:R.title,description:R.description}),o(R.body),O({type:A})):O(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(c,a){var n,s,r,o,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a(),s=n.AuthReducer.token,r={headers:{Authorization:"Bearer ".concat(s)}},c({type:y}),t.prev=3,t.next=6,v.a.get("/post/".concat(e),r);case 6:o=t.sent,i=o.data.post,c({type:N}),c({type:P,payload:i}),c({type:k}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),c({type:N}),console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,c){return t.apply(this,arguments)}}()}(t))}),[R]);return Object(n.useEffect)((function(){0!==F.length&&(F.map((function(e){return H.b.error(e.msg)})),O({type:C}))}),[F]),Object(n.useEffect)((function(){f&&e("/dashboard")}),[f]),g?Object(a.jsx)(z,{}):Object(a.jsxs)("div",{className:"mt-100",children:[Object(a.jsxs)(d.b,{children:[Object(a.jsx)("title",{children:"Edit post"}),Object(a.jsx)("meta",{name:"description",content:"update post"})]}),Object(a.jsx)(H.a,{position:"top-right",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-6",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{className:"card__h3",children:"Edit post"}),Object(a.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),O((t={title:b.title,body:r,description:b.description,id:R._id},function(){var e=Object(h.a)(m.a.mark((function e(c,a){var n,s,r,o,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),s=n.AuthReducer.token,r={headers:{Authorization:"Bearer ".concat(s)}},c({type:y}),e.prev=3,e.next=6,v.a.post("/update",t,r);case 6:o=e.sent,i=o.data,c({type:N}),c({type:_}),c({type:w,payload:i.msg}),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(3),l=e.t0.response.data.errors,c({type:N}),c({type:T,payload:l}),console.log(e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:[Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Post title"}),Object(a.jsx)("input",{type:"text",name:"title",id:"title",className:"group__control",placeholder:"Post title",value:b.title,onChange:function(e){return p(Object(J.a)(Object(J.a)({},b),{},{title:e.target.value}))}})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"body",children:"Post body"}),Object(a.jsx)(de.a,{theme:"snow",id:"body",placeholder:"Post body...",value:r,onChange:o})]}),Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Meta Description"}),Object(a.jsx)("textarea",{name:"description",id:"description",cols:"30",rows:"10",defaultValue:b.description,onChange:function(e){return p(Object(J.a)(Object(J.a)({},b),{},{description:e.target.value}))},onKeyUp:function(e){return p(Object(J.a)(Object(J.a)({},b),{},{description:e.target.value}))},className:"group__control",placeholder:"meta description...",maxLength:"150"}),Object(a.jsx)("p",{className:"length",children:b.description?b.description.length:0})]}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",value:"Edit",className:"btn btn-default btn-block"})})]})]})})})})]})},pe=function(){var e=Object(l.h)().id,t=Object(l.g)().push,c=Object(j.b)(),s=Object(j.c)((function(e){return e.UpdateImage})).updateImageErrors,r=Object(j.c)((function(e){return e.PostReducer})).redirect,o=Object(n.useState)({image:"",imagePreview:"",imageName:"Choose image"}),i=Object(W.a)(o,2),u=i[0],b=i[1];return Object(n.useEffect)((function(){0!==s.length&&(s.map((function(e){return H.b.error(e.msg)})),c({type:D}))}),[s]),Object(n.useEffect)((function(){r&&t("/dashboard")}),[r]),Object(a.jsxs)("div",{className:"container mt-100",children:[Object(a.jsxs)(d.a,{children:[Object(a.jsx)("title",{children:"Update image"}),Object(a.jsx)("meta",{name:"description",content:"Update image"})]}),Object(a.jsx)(H.a,{position:"top-right",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-6",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{className:"card__h3",children:"Update Post Image"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a,n=new FormData;n.append("id",e),n.append("image",u.image),c((a=n,function(){var e=Object(h.a)(m.a.mark((function e(t,c){var n,s,r,o,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c(),s=n.AuthReducer.token,r={headers:{Authorization:"Bearer ".concat(s)}},t({type:y}),e.prev=3,e.next=6,v.a.post("/updateImage",a,r);case 6:o=e.sent,i=o.data.msg,t({type:N}),t({type:_}),t({type:w,payload:i}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),l=e.t0.response.data.errors,t({type:N}),t({type:F,payload:l});case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:[Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("label",{htmlFor:"image",className:"image__label",children:u.imageName}),Object(a.jsx)("input",{type:"file",name:"image",id:"image",onChange:function(e){if(0!==e.target.files.length){var t=new FileReader;t.onloadend=function(){b(Object(J.a)(Object(J.a)({},u),{},{imagePreview:t.result,image:e.target.files[0],imageName:e.target.files[0].name}))},t.readAsDataURL(e.target.files[0])}}})]}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("div",{className:"imagePreivew",children:u.imagePreview?Object(a.jsx)("img",{src:u.imagePreview}):""})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",value:"Update image",className:"btn btn-default btn-block"})})]})]})})})]})},Oe="SET_PROFILE_ERRORS",me="RESET_PROFILE_ERRORS",he=function(){var e=Object(l.g)().push,t=Object(n.useState)(""),c=Object(W.a)(t,2),s=c[0],r=c[1],o=Object(j.c)((function(e){return e.AuthReducer})).user,i=o.name,u=o._id,b=Object(j.c)((function(e){return e.PostReducer})),p=(b.loading,b.redirect),O=Object(j.c)((function(e){return e.updateName})).updateErrors,x=Object(j.b)();return Object(n.useEffect)((function(){r(i)}),[]),Object(n.useEffect)((function(){0!==O.length&&(O.map((function(e){return H.b.error(e.msg)})),x({type:me}))}),[O]),Object(n.useEffect)((function(){p&&e("/dashboard")}),[p]),Object(a.jsxs)("div",{className:"container mt-100",children:[Object(a.jsxs)(d.b,{children:[Object(a.jsx)("title",{children:"Update Name"}),Object(a.jsx)("meta",{name:"description",content:"update the user name"})]}),Object(a.jsx)(H.a,{position:"top-right",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}}),Object(a.jsxs)("div",{className:"row ml-minus-15 mr-minus-15",children:[Object(a.jsx)("div",{className:"col-3 p-15",children:Object(a.jsx)(se,{})}),Object(a.jsx)("div",{className:"col-9 p-15",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{className:"card__h3",children:"Update Name"}),Object(a.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),x((t={name:s,id:u},function(){var e=Object(h.a)(m.a.mark((function e(c,a){var n,s,r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),s=n.AuthReducer.token,r={headers:{Authorization:"Bearer ".concat(s)}},c({type:y}),e.prev=3,e.next=6,v.a.post("/updateName",t,r);case 6:o=e.sent,i=o.data,c({type:N}),localStorage.setItem("myToken",i.token),c({type:X,payload:i.token}),c({type:w,payload:i.msg}),c({type:_}),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(3),c({type:N}),console.log(e.t0.response.data.errors),c({type:Oe,payload:e.t0.response.data.errors});case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:[Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"text",name:"",className:"group__control",placeholder:"Name...",onChange:function(e){return r(e.target.value)},value:s})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",value:"Update Name",className:"btn btn-default btn-block"})})]})]})})]})]})},xe=c(24),ve=c(115),ge=c(116),fe=c(117),ye={loading:!1,registerErrors:[],loginErrors:[],token:"",user:""},Ne=function(e){var t=Object(fe.a)(e),c=new Date(1e3*t.exp);return new Date>c?(localStorage.removeItem("myToken"),null):t},_e=localStorage.getItem("myToken");if(_e){var Ee=Ne(_e);if(Ee){ye.token=_e;var we=Ee.user;ye.user=we}}var Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;if(t.type===Q)return Object(J.a)(Object(J.a)({},e),{},{loading:!0});if(t.type===q)return Object(J.a)(Object(J.a)({},e),{},{loading:!1});if(t.type===Z)return Object(J.a)(Object(J.a)({},e),{},{registerErrors:t.payload});if(t.type===X){var c=Ne(t.payload),a=c.user;return Object(J.a)(Object(J.a)({},e),{},{token:t.payload,user:a,loginErrors:[],registerErrors:[]})}return t.type===$?Object(J.a)(Object(J.a)({},e),{},{token:"",user:""}):t.type===ee?Object(J.a)(Object(J.a)({},e),{},{loginErrors:t.payload}):e},Se={loading:!1,createErrors:[],redirect:!1,message:"",posts:[],perPage:0,count:0,post:{},postStatus:!1,editErrors:[],updateImageErrors:[],details:{},comments:[]},Pe={updateErrors:[]},ke=Object(xe.combineReducers)({AuthReducer:Re,PostReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;return c===y?Object(J.a)(Object(J.a)({},e),{},{loading:!0}):c===N?Object(J.a)(Object(J.a)({},e),{},{loading:!1}):c===g?Object(J.a)(Object(J.a)({},e),{},{createErrors:a}):c===_?Object(J.a)(Object(J.a)({},e),{},{redirect:!0}):c===E?Object(J.a)(Object(J.a)({},e),{},{redirect:!1}):c===w?Object(J.a)(Object(J.a)({},e),{},{message:t.payload}):c===R?Object(J.a)(Object(J.a)({},e),{},{message:""}):c===f?Object(J.a)(Object(J.a)({},e),{},{createErrors:[]}):c===I?Object(J.a)(Object(J.a)({},e),{},{details:a}):c===U?Object(J.a)(Object(J.a)({},e),{},{comments:a}):e},FetchPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;return c===S?Object(J.a)(Object(J.a)({},e),{},{posts:a.response,count:a.count,perPage:a.perPage}):e},FetchPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;return c===P?Object(J.a)(Object(J.a)({},e),{},{post:a}):c===k?Object(J.a)(Object(J.a)({},e),{},{postStatus:!0}):c===A?Object(J.a)(Object(J.a)({},e),{},{postStatus:!1}):e},UpdatePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;return c===T?Object(J.a)(Object(J.a)({},e),{},{editErrors:a}):c===C?Object(J.a)(Object(J.a)({},e),{},{editErrors:[]}):e},UpdateImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,c=t.payload,a=t.type;return a===F?Object(J.a)(Object(J.a)({},e),{},{updateImageErrors:c}):a===D?Object(J.a)(Object(J.a)({},e),{},{updateImageErrors:[]}):e},updateName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;return c===Oe?Object(J.a)(Object(J.a)({},e),{},{updateErrors:a}):c===me?Object(J.a)(Object(J.a)({},e),{},{updateErrors:[]}):e}}),Ae=[ve.a],Te=Object(xe.createStore)(ke,Object(ge.composeWithDevTools)(xe.applyMiddleware.apply(void 0,Ae))),Ce=function(){var e=Object(l.g)().push,t=Object(n.useState)({current:"",newPassword:"",userId:null}),c=Object(W.a)(t,2),s=c[0],r=c[1],o=Object(j.b)(),i=Object(j.c)((function(e){return e.PostReducer})),u=i.loading,b=i.redirect,p=Object(j.c)((function(e){return e.updateName})).updateErrors,O=Object(j.c)((function(e){return e.AuthReducer})).user._id;return Object(n.useEffect)((function(){0!==p.length&&(p.map((function(e){return H.b.error(e.msg)})),o({type:me}))}),[p]),Object(n.useEffect)((function(){b&&e("/dashboard")}),[b]),u?Object(a.jsx)(z,{}):Object(a.jsxs)("div",{className:"container mt-100",children:[Object(a.jsxs)(d.b,{children:[Object(a.jsx)("title",{children:"Update Password"}),Object(a.jsx)("meta",{name:"description",content:"update the user password"})]}),Object(a.jsx)(H.a,{position:"top-right",reverseOrder:!1,toastOptions:{style:{fontSize:"14px"}}}),Object(a.jsxs)("div",{className:"row ml-minus-15 mr-minus-15",children:[Object(a.jsx)("div",{className:"col-3 p-15",children:Object(a.jsx)(se,{})}),Object(a.jsx)("div",{className:"col-9 p-15",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{className:"card__h3",children:"Change Password"}),Object(a.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),o((t={current:s.current,newPassword:s.newPassword,userId:O},function(){var e=Object(h.a)(m.a.mark((function e(c,a){var n,s,r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),s=n.AuthReducer.token,r={headers:{Authorization:"Bearer ".concat(s)}},c({type:y}),e.prev=3,e.next=6,v.a.post("/updatePassword",t,r);case 6:o=e.sent,i=o.data,c({type:N}),c({type:w,payload:i.msg}),c({type:_}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),c({type:N}),c({type:Oe,payload:e.t0.response.data.errors});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,c){return e.apply(this,arguments)}}()))},children:[Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"password",name:"",className:"group__control",placeholder:"Current Password",onChange:function(e){return r(Object(J.a)(Object(J.a)({},s),{},{current:e.target.value}))},value:s.current})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"password",name:"",className:"group__control",placeholder:"New Password",onChange:function(e){return r(Object(J.a)(Object(J.a)({},s),{},{newPassword:e.target.value}))},value:s.newPassword})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",value:"Update Password",className:"btn btn-default btn-block"})})]})]})})]})]})},Fe=function(e){var t=e.comments;return console.log("my comments:",t),t.length>0?t.map((function(e){return Object(a.jsxs)("div",{className:"commentSection",children:[Object(a.jsxs)("div",{className:"post__header",children:[Object(a.jsx)("div",{className:"post__header__avator",children:e.userName?e.userName[0]:""}),Object(a.jsxs)("div",{className:"post__header__user",children:[Object(a.jsx)("span",{children:e.userName}),Object(a.jsx)("span",{children:b()(e.updatedAt).format("MMM Do YY")})]})]}),Object(a.jsx)("div",{className:"comment__body",children:e.comment})]},e._id)})):"No comments"},De=function(){var e=Object(l.h)().id,t=Object(n.useState)(""),c=Object(W.a)(t,2),s=c[0],r=c[1],o=Object(j.c)((function(e){return e.AuthReducer})).user,i=Object(j.c)((function(e){return e.PostReducer})),u=i.loading,O=i.details,x=i.comments,g=Object(j.b)();return Object(n.useEffect)((function(){g(M(e))}),[e]),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row mt-100",children:Object(a.jsx)("div",{className:"col-8",children:u?Object(a.jsx)(z,{}):Object(a.jsxs)("div",{className:"post__details",children:[Object(a.jsx)(d.b,{children:Object(a.jsx)("title",{children:O.title})}),Object(a.jsxs)("div",{className:"post__header",children:[Object(a.jsx)("div",{className:"post__header__avator",children:O.userName?O.userName[0]:""}),Object(a.jsxs)("div",{className:"post__header__user",children:[Object(a.jsx)("span",{children:O.userName}),Object(a.jsx)("span",{children:b()(O.updatedAt).format("MMM Do YY")})]})]}),Object(a.jsxs)("div",{className:"post__body",children:[Object(a.jsx)("h1",{className:"post__body__title",children:O.title}),Object(a.jsx)("div",{className:"post__body__details",children:Object(p.htmlToText)(O.body)}),Object(a.jsx)("div",{className:"post__body__image",children:Object(a.jsx)("img",{src:"/images/".concat(O.image),alt:O.image})})]}),o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"post__comment",children:Object(a.jsxs)("form",{onSubmit:function(t){var c;t.preventDefault(),g((c={id:O._id,comment:s,userName:o.name},function(){var e=Object(h.a)(m.a.mark((function e(t,a){var n,s,r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),s=n.AuthReducer.token,r={headers:{Authorization:"Bearer ".concat(s)}},t({type:y}),e.prev=3,e.next=6,v.a.post("/comment",c,r);case 6:o=e.sent,i=o.data,t({type:N}),console.log(i),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:N}),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,c){return e.apply(this,arguments)}}())),r(""),g(M(e))},children:[Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"text",className:"group__control",placeholder:"Write a comment...",onChange:function(e){return r(e.target.value)},value:s})}),Object(a.jsx)("div",{className:"group",children:Object(a.jsx)("input",{type:"submit",value:"Post comment",className:"btn btn-default"})})]})}),Object(a.jsx)(Fe,{comments:x})]}):""]})})})})};var Ie=function(){return Object(a.jsx)(j.a,{store:Te,children:Object(a.jsxs)(i.a,{children:[Object(a.jsx)(ne,{}),Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/",exact:!0,component:Y}),Object(a.jsx)(l.b,{path:"/details/:id",exact:!0,component:De}),Object(a.jsx)(l.b,{path:"/home/:page",exact:!0,component:Y}),Object(a.jsx)(ie,{path:"/register",exact:!0,component:ce}),Object(a.jsx)(ie,{path:"/login",exact:!0,component:ae}),Object(a.jsx)(oe,{path:"/dashboard/:page?",exact:!0,component:re}),Object(a.jsx)(oe,{path:"/create",exact:!0,component:ue}),Object(a.jsx)(oe,{path:"/edit/:id",exact:!0,component:be}),Object(a.jsx)(oe,{path:"/updateImage/:id",exact:!0,component:pe}),Object(a.jsx)(oe,{path:"/updateName",exact:!0,component:he}),Object(a.jsx)(oe,{path:"/updatePassword",exact:!0,component:Ce}),Object(a.jsx)(l.b,{component:le})]})]})})},Ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,280)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Ie,{})}),document.getElementById("root")),Ue()}},[[279,1,2]]]);
//# sourceMappingURL=main.d7a7f6b5.chunk.js.map